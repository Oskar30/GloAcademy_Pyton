import random

def is_valid(user_input):
    if user_input.isdigit():
        user_number = int(user_input)
        if user_number >= 1:
            return True
        else:
            return False
    else:
        return False

over = 0 # 2

while True: # 2
    print('Welcome to the game "guess the number"')

    n = int(input('range from 1 to: '))
    secret_number = random.randint(1, n) # 3
    
    attempt = 0     # 1

    ideal = 0   # 4

            # 4
    num_gre = 0     
    num_les = n + 1     

    while True:
        print('enter a number between 1 and', n) # 3
        user_input = input()
        
        attempt += 1    # 1

        if not is_valid(user_input):
            continue

        user_number = int(user_input)
        
                    # 4
        if user_number <= num_gre:
            ideal += 1 
        if user_number >= num_les:
            ideal += 1 

        if secret_number > user_number:
            num_gre = user_number    # 4
            print('the number is greater')
        elif secret_number < user_number:
            num_les = user_number   # 4
            print('number less')
        else:
            print('you guessed the number!')
            break
    print('Thanks for the game!   number of attempts:', attempt, 'could be guessed:', attempt - ideal)

    answer = 't' # 2
    while ord(answer[0]) != 121 or ord(answer[0]) != 110:
        answer = input('play again? answer (y) - yes or (n) - no: ')

        if len(answer) == 1 and not answer.isdigit():
            if ord(answer[0]) == 121:
                break
            elif ord(answer[0]) == 110:
                over += 1
                break
            else:
                continue
    if over > 0:
        print('Good bye!')
        break
